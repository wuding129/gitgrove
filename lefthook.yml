# Gitè§„èŒƒåŒ–å·¥ä½œæµé…ç½®
# åˆ†æ”¯åˆ›å»ºçº¦æŸå’Œæäº¤è§„èŒƒéªŒè¯

# åˆ†æ”¯æ¨é€å‰çš„éªŒè¯ - ç”¨äºæ‹¦æˆªä¸è§„èŒƒåˆ†æ”¯
pre-push:
  commands:
    branch-name-check:
      run: node scripts/branch-name-check.js

# æäº¤ä¿¡æ¯éªŒè¯
commit-msg:
  commands:
    commitlint:
      run: npx --no-install commitlint --edit {1}
      stage_fixed: true

# æäº¤å‰çš„ä»£ç æ£€æŸ¥
pre-commit:
  commands:
    # é˜²æ­¢ç›´æ¥æäº¤åˆ°masteråˆ†æ”¯ (Windowså…¼å®¹ç‰ˆæœ¬)
    protect-master:
      run: node scripts/protect-master.js
        
    # ä»£ç è´¨é‡æ£€æŸ¥
    lint-staged:
      glob: "*.{js,ts,vue,jsx,tsx}"
      run: |
        echo "ğŸ” æ£€æŸ¥ä»£ç æ ¼å¼..."
        # è¿™é‡Œå¯ä»¥æ·»åŠ ESLintç­‰ä»£ç æ£€æŸ¥å·¥å…·
        # npx eslint {staged_files} --fix
        echo "âœ… ä»£ç æ ¼å¼æ£€æŸ¥é€šè¿‡"
